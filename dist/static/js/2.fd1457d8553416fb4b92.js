webpackJsonp([2],{Ofpa:function(s,t){},ZHbI:function(s,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"Commodity",data:function(){return{totalAll:0,buyCount:0,numArr:[],numData:0,id:0,height:0}},computed:{foodClassify:function(){return this.$store.getters.foodClassify},foodsDetail:function(){return this.$store.getters.foodsDetail},changeHeight:function(s){console.log(s)}},methods:{changeBgd:function(s){this.id=s,console.log(this.$refs.element.offsetTop)},handleReduce:function(s,t){s.num>=1&&(s.num--,this.totalAll-=s.price,this.numData--,0==this.totalAll&&(this.numArr=t.filter(function(s){return s.num>=1})))},handleAdd:function(s,t){s.num++;var i=0,n=0;this.numArr=t.filter(function(s){return s.num>=1}),this.numArr.forEach(function(s){i+=s.num*s.price,n+=s.num}),this.totalAll=i,this.numData=n,console.log(n)}},mounted:function(){console.log(this.$refs.element.offsetTop)}},a={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"classify-all-out"},[i("div",{staticClass:"classify-all"},s._l(s.foodClassify,function(t,n){return i("div",{staticClass:"classify-item",class:{on:t===s.foodClassify[s.id]},on:{click:function(t){s.changeBgd(n)}}},[s._v(s._s(t)+"\n\n            "),i("div",{staticClass:"item-line",class:{onLine:t===s.foodClassify[s.id]}})])}),0),s._v(" "),i("div",{staticClass:"classify-content"},s._l(s.foodClassify,function(t,n){return i("div",{staticClass:"content-item ",class:{bgm:t===s.foodClassify[s.id]}},[i("div",{ref:"element",refInFor:!0,staticClass:"content-name"},[i("div",{staticClass:"item-line1"}),s._v("\n                "+s._s(t)+"\n            ")]),s._v(" "),s._l(s.foodsDetail[n],function(t,a){return i("div",{staticClass:"content-info"},[i("img",{staticClass:"img-info",attrs:{src:t.image,alt:""}}),s._v(" "),i("div",{staticClass:"info-out"},[i("div",{staticClass:"info-name"},[s._v(s._s(t.name))]),s._v(" "),i("div",{staticClass:"info-number"},[i("span",[s._v("月销"+s._s(t.sellCount))]),s._v(" "),i("span",[s._v("好评率"+s._s(t.rating)+"%")])]),s._v(" "),i("div",{staticClass:"info-money"},[s._v("￥"+s._s(t.price))])]),s._v(" "),i("div",{staticClass:"img-right"},[i("transition",{attrs:{name:"fade"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.num,expression:"items.num"}],staticClass:"img2 img-same",attrs:{src:"http://lgting.oss-cn-beijing.aliyuncs.com/wx-img/jianshao.png",alt:""},on:{click:function(i){s.handleReduce(t,s.foodsDetail[n])}}})]),s._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.num,expression:"items.num"}],staticClass:"number-count"},[s._v(s._s(t.num))]),s._v(" "),i("img",{staticClass:"img1 img-same",attrs:{src:"http://lgting.oss-cn-beijing.aliyuncs.com/wx-img/tianjia.png",alt:""},on:{click:function(i){s.handleAdd(t,s.foodsDetail[n])}}})],1),s._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:a!==s.foodsDetail[n].length-1,expression:"indexs!==(foodsDetail[index].length-1)"}],staticClass:"item-line2"})])})],2)}),0),s._v(" "),i("div",{staticClass:"classify-foot"},[i("div",{staticClass:"gouwuche-out"},[i("div",{staticClass:"gouwuche"},[i("img",{directives:[{name:"show",rawName:"v-show",value:!s.numArr.length,expression:"!numArr.length"}],staticClass:"icon-shopping_cart",attrs:{src:"http://lgting.oss-cn-beijing.aliyuncs.com/wx-img/gouwuche.png"}}),s._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:s.numArr.length,expression:"numArr.length"}],staticClass:"icon-shopping_cart",attrs:{src:"http://lgting.oss-cn-beijing.aliyuncs.com/wx-img/gouwuche-full.png"}}),s._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:s.numArr.length,expression:"numArr.length"}],staticClass:"butCount"},[s._v(s._s(s.numData))])])]),s._v(" "),i("span",{staticClass:"foot-total"},[s._v("￥"+s._s(s.totalAll)+"元")]),s._v(" "),i("span",[s._v("另需配送费￥4元")]),s._v(" "),i("span",{staticClass:"min-money"},[s._v("￥20元起送")])])])},staticRenderFns:[]};var e=i("VU/8")(n,a,!1,function(s){i("Ofpa")},"data-v-1d7fbf3e",null);t.default=e.exports}});
//# sourceMappingURL=2.fd1457d8553416fb4b92.js.map